# tradehive

## 개요

이 프로젝트는 Django를 사용하여 가상의 코인 거래소를 만들어보며 다양한 기능을 학습하고 거래소의 개요를 이해하기 위해 진행되었습니다.
ChatGPT o1을 활용하여 기능을 최대한 다채롭게 학습하는데 주력했습니다.

## 프로젝트 진행 과정

### 1일차

- ChatGPT를 사용해 프로젝트에 필요한 정보 설정
    - 프로젝트 이름 결정
    - 프로젝트 요구사항 정리
        1. 사용자 관리
        2. 거래 시스템
        3. 지갑 및 자산 관리
        4. 보안(a.k.a 제로 트러스트 모델)
        5. 성능 및 안정성 강화
        6. 법적 준수
        7. 관리자 도구
        8. 기타 부가 기능
- 회원가입 및 로그인 서비스
    - 사용자 모델 확장
    - 회원가입 및 로그인 기능 추가
- 보안 기능 중 일부 적용
    - HTTPS 사용
    - 쿠키 만료 시간 설정
    - 사용자 비활성화 시 자동 로그아웃 활성화

### 2일차

- Full Stack 서버에서 API 서버로 전환
    - AS-IS: HTML 페이지와 세션 기반
    - TO-BE: JWT와 API 기반
- JWT 보안
    - 암복호화 키 및 암호화 알고리즘 추가
    - 토큰 생명주기 활성화
    - 헤더 타입 결정
    - 블랙리스트 기능 활성화
        - 로그아웃 시 사용된 JWT가 블랙리스트에 자동으로 들어가도록 설정

### 3일차

- MFA
    - QR 코드로 MFA 추가 기능 지원
- 작성된 로직의 serializer와 View 역할 분리
    - serializer에서 데이터의 검증과 가공을 하고 View에서는 request/response 전달만 담당

### 4일차

- 개인 정보 수정
    - 사용자 프로필 정보를 가져오고 수정이 가능하도록 GET/PATCH API 활성화

### 5일차

- 개인 정보 수정
    - 사용자 제거를 위한 DELETE API 활성화
    - 비밀번호 변경 추가
- 작성된 코드가 중복 로직이 있는 경우 최대한 모듈화하여 코드 축약 진행

### 6일차

- 거래 시스템
    - 시장가/지정가 주문
- 실시간 주문 매칭
    - Redis, celery(and beat)를 활용해 주문을 최대한 빠르게 처리하도록 진행
- container
    - docker 사용

### 7일차

- 다양한 거래 페어 지원
    - Admin 상태에서 거래 페어 제어 가능
    - CRUD API

### 8일차

- View 권한 검토
    - 그에 맞게 테스트 코드 수정
- CI/CD
    - Github action을 사용해 CI 활성화
    - 테스트 자동화

### 9일차

- 거래소에서 지원하는 자산들에 대한 리스트 관리
- 작성된 로직에서 사용하던 자산 데이터 연결 및 테스트

### 10일차

- 로드 밸런싱: nginx

### 11일차

- 멀티 스레딩: gunicorn

### 12일차

- 실시간 차트
- 실시간 체결 데이터: websocket

### 13일차

- application 기능 정리
    - order 내 시장 관련 로직 -> markets로 이동
- 기술적 분석 도구
    - moving average
    - bollinger bands
- container 최적화
    - web container 갯수 조정
    - image 생성 과정 변경

### 14일차

- 사용자 가상자산 지갑
    - 지갑 입출금
    - 주문 시 자산 확인 및 검증 과정 추가
- 개발 container 구성

### 15일차

- 거래소 보호
    - 방화벽
    - Postgresql에 SSL 적용용

### 16일차

- 방화벽 고도화
    - 동일 CA 기반 서비스에서 사용되는 crt/key 분리
- CI 메모리 부족
    - 테스트 grouping을 사용한 parallelization
    - self-hosted runner
    - action이 종료된 후 정리 단계

### 17일차

- DDoS 방어
    - nginx에 DDoS 관련 설정 추가
    - web에 middleware 추가
        - 기록 및 추적을 위한 DB 테이블 구성

### 18일차

- web 이미지 네이밍
- 초기화 스크립트 작성
    - 가상 상황 테스트를 위한 스크립트
        - celery 동작 여부 확인

### 19일차

- 회고 1일차
    - 그동안 작업한 내용을 돌아보고 다음 내용을 작성
        - TIL(Today I Learned)
        - TODO 혹은 부족했다고 생각되는 부분

### 20일차

- 회고 2일차
    - 그동안 작업한 내용을 돌아보고 다음 내용을 작성
        - TIL(Today I Learned)
        - TODO 혹은 부족했다고 생각되는 부분
- 프로젝트 종료
